jQuery.extend(F,{unique:function(){var b=+new Date;return function(a){return(a||"")+(++b)}}(),mix:jQuery.extend,inherit:function(){var l=Array.prototype.slice.call(arguments),r=l[0],p=r.prototype,q=p.initialize,n=[],o=1,j,m;while(j=l[o++]){m=F.isFunction(j)?j.prototype:F.isPlainObject(j)?j:null;if(m){F.isFunction(m.initialize)&&n.push(m.initialize);for(var k in m){if(m.hasOwnProperty(k)&&k!=="initialize"){p[k]=m[k]}}}}if(n.length){q&&n.push(q);p.initialize=function(){var b=arguments,c=0,a=n.length;for(;c<a;c++){n[c].apply(this,b)}}}return r}});jQuery.each("isFunction,isPlainObject,isArray".split(","),function(d,c){F[c]=jQuery[c]});F.module("superui:util/tool",function(c,d){d.unparam=function(b){if(typeof b!=="string"||!b){return{}}var f={},a=b.split("&");if(a.length){F.each(a,function(e){e=e.split("=");if(e.length==2){f[e[0]]=e[1]}})}return f};d.substitute=function(a,b){return a.replace(/\{([^{}]+)\}/g,function(j,i){var h=b[i];return(h!==undefined)?""+h:""})};d.throttle=function(f,a){var b=null;return function(){var e=this,h=arguments;clearTimeout(b);b=setTimeout(function(){f.apply(e,h)},a)}};d.addStyle=function(a){$("<style>"+a+"</style>").appendTo("head")};d.cssval=function(b,f){var a=(b.css(f)||"").replace(/[^0-9\-]/g,"")||"0";return parseInt(a,10)||0}});F.module("superui:util/emitter",function(f,g){var h="Emitter:"+F.unique(),e=function(){this.initialize()};e.prototype={initialize:function(){this.__emitter={}},addListener:function(d,a,c,b){this.__emitter[d=d.toLowerCase()]||(this.__emitter[d]=[]);if(typeof a=="function"){this.__emitter[d].push({handler:a,guid:a[h]||(a[h]=F.unique()),data:c||{},once:b})}return this},on:function(d,a,c,b){return this.addListener(d,a,c,b)},once:function(c,a,b){return this.addListener(c,a,b,true)},removeListener:function(c,d){if(typeof c!="undefined"){c=c.toLowerCase();if(typeof d!=="function"){delete this.__emitter[c]}else{var a=this.__emitter[c],i=d[h];for(var l=0,b=a.length;l<b;l++){if(i===a[l][h]){a.splice(l,1)}}}}else{for(var n in this.__emitter){if(this.__emitter.hasOwnProperty(n)){this.removeListener(this.__emitter[n])}}}return this},off:function(a,b){return this.removeListener(a,b)},emit:function(b,l){var a,c,d=-1,k;if(a=this.__emitter[b=b.toLowerCase()]){while(c=a[++d]){if(l||c.data){l=F.mix(l||{},c.data)}c.once&&a.splice(d,1);if(false===(k=c.handler(l))){break}}}if(b!=="__onemit__"){this.emit("__onEmit__",{event:b})}return k},fire:function(b,a){return this.emit(b,a)}};return e});F.module("superui:util/dot",function(o,n){var k={version:"1.0.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:true,append:true,selfcontained:false},template:undefined,compile:undefined},r;function l(){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},a=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(a,function(c){return b[c]||c}):this}}String.prototype.encodeHTML=l();var p={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},j=/$^/;function q(b,c,a){return((typeof c==="string")?c:c.toString()).replace(b.define||j,function(d,f,g,e){if(f.indexOf("def.")===0){f=f.substring(4)}if(!(f in a)){if(g===":"){if(b.defineParams){e.replace(b.defineParams,function(t,h,i){a[f]={arg:h,text:i}})}if(!(f in a)){a[f]=e}}else{new Function("def","def['"+f+"']="+e)(a)}}return""}).replace(b.use||j,function(d,e){if(b.useParams){e=e.replace(b.useParams,function(v,h,g,i){if(a[g]&&a[g].arg&&i){var s=(g+":"+i).replace(/'|\\/g,"_");a.__exp=a.__exp||{};a.__exp[s]=a[g].text.replace(new RegExp("(^|[^\\w$])"+a[g].arg+"([^\\w$])","g"),"$1"+i+"$2");return h+"def.__exp['"+s+"']"}})}var f=new Function("def","return "+e)(a);return f?q(b,f,a):f})}function m(a){return a.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}k.template=function(b,d,g){d=d||k.templateSettings;var i=d.append?p.append:p.split,a,h=0,e,c=(d.use||d.define)?q(d,b,g||{}):b;c=("var out='"+(d.strip?c.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):c).replace(/'|\\/g,"\\$&").replace(d.interpolate||j,function(v,u){return i.start+m(u)+i.end}).replace(d.encode||j,function(v,u){a=true;return i.start+m(u)+i.endencode}).replace(d.conditional||j,function(x,v,w){return v?(w?"';}else if("+m(w)+"){out+='":"';}else{out+='"):(w?"';if("+m(w)+"){out+='":"';}out+='")}).replace(d.iterate||j,function(x,w,y,z){if(!w){return"';} } out+='"}h+=1;e=z||"i"+h;w=m(w);return"';var arr"+h+"="+w+";if(arr"+h+"){var "+y+","+e+"=-1,l"+h+"=arr"+h+".length-1;while("+e+"<l"+h+"){"+y+"=arr"+h+"["+e+"+=1];out+='"}).replace(d.evaluate||j,function(v,u){return"';"+m(u)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+=");if(a&&d.selfcontained){c="String.prototype.encodeHTML=("+l.toString()+"());"+c}try{return new Function(d.varname,c)}catch(f){if(typeof console!=="undefined"){console.log("Could not create a template function: "+c)}throw f}};k.compile=function(b,a){return k.template(b,null,a)};n.template=k.template;n.compile=k.compile});F.module("superui:util/smDot",function(s,r){var o={version:"1.0.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,smConditional:/\<\&(\/|(else))?\s*(if|else)([\s\S]*?)\&\>/g,smInterpolate:/\<\&\$([\s\S]+?)(\|sp_[^\&]+)?\&\>/g,smIterate:/\<\&(\/)?foreach\s*(?:\$([\s\S]+?)\s+as\s+(?:\$([^\=\>]+))?(?:\=\>)?\$([\s\S]*?)?)?\&\>/g,smLoop:/\<\&(\/)?for\s*(?:\$([\s\S]+)\=\s*([\s\S]+?)\s*to\s*([\s\S]+?)\s*)?\&\>/g,smComments:/\<\&\*[\s\S]*?\*\&\>/g,varname:"it",strip:true,append:true,selfcontained:false},template:undefined,compile:undefined},l;function p(){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},a=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(a,function(c){return b[c]||c}):this}}String.prototype.encodeHTML=p();var t={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},m=/$^/;function k(b,c,a){return((typeof c==="string")?c:c.toString()).replace(b.define||m,function(g,e,f,d){if(e.indexOf("def.")===0){e=e.substring(4)}if(!(e in a)){if(f===":"){if(b.defineParams){d.replace(b.defineParams,function(j,h,i){a[e]={arg:h,text:i}})}if(!(e in a)){a[e]=d}}else{new Function("def","def['"+e+"']="+d)(a)}}return""}).replace(b.use||m,function(f,d){if(b.useParams){d=d.replace(b.useParams,function(v,j,g,h){if(a[g]&&a[g].arg&&h){var i=(g+":"+h).replace(/'|\\/g,"_");a.__exp=a.__exp||{};a.__exp[i]=a[g].text.replace(new RegExp("(^|[^\\w$])"+a[g].arg+"([^\\w$])","g"),"$1"+h+"$2");return j+"def.__exp['"+i+"']"}})}var e=new Function("def","return "+d)(a);return e?k(b,e,a):e})}function q(a){return a.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}function n(b,c){for(var a in c){b[a]=c[a]}return b}o.template=function(i,b,e){b=n(o.templateSettings,b);var g=b.append?t.append:t.split,h,f=0,c,a=(b.use||b.define)?k(b,i,e||{}):i;a=("var out='"+(b.strip?a.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):a).replace(/'|\\/g,"\\$&").replace(b.encode||m,function(v,j){h=true;return g.start+q(j)+g.endencode}).replace(b.smComments||m,function(){return""}).replace(b.smInterpolate||m,function(x,j,w){return g.start+q(j)+g.endencode}).replace(b.smConditional||m,function(j,B,A,y,z){z=z.replace(/\$/g,"");return B?(A?(z?"';}else if("+q(z)+"){out+='":"';}out+='"):(z?"';}else{out+='":"';}out+='")):(z?"';if("+q(z)+"){out+='":"';}else{out+='")}).replace(b.smIterate||m,function(j,y,A,B,z){if(y){return"';} } out+='"}f+=1;c=z||"i"+f;A=q(A);return"';var arr"+f+"="+A+";if(arr"+f+"){var "+c+","+(B||"key")+"=-1;for("+(B||"key")+" in arr"+f+"){"+z+"=arr"+f+"["+(B||"key")+"];out+='"}).replace(b.smLoop||m,function(j,C,D,A,B){var z=C?("';} out+='"):("';for(var "+D+"="+A.replace("$","")+";"+D+"<="+B.replace("$","")+";"+D+"++){out+='");return z}).replace(b.evaluate||m,function(v,j){return"';"+q(j)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+=");if(h&&b.selfcontained){a="String.prototype.encodeHTML=("+p.toString()+"());"+a}try{return new Function(b.varname,a)}catch(d){if(typeof console!=="undefined"){console.log("Could not create a template function: "+a)}throw d}};o.compile=function(b,a){return o.template(b,null,a)};r.template=o.template;r.compile=o.compile});F.addLog("superui:component",["componentLog"]);F.module("superui:component",function(q,p,j){var m=q("superui:util/emitter"),k=q("superui:util/tool"),l=function(){};var r=location.pathname,o,n="index";if(r&&r.length>2){if(o=r.match(/\/home\/xman\/show\/(.+)/i)){n=o[1]}}l.prototype={constructor:l,initialize:function(){this.disabled=false;this.__options={};var b=$("#head").length?$("#head"):$(document.body),a=$(".sui-wraper");this.componentWrap=a.length?a:$('<div class="s-isindex-wrap sui-wraper"></div>').appendTo(b)},disable:function(){if(!this.disable){this.disabled=true;this.fire("disable")}},enable:function(){if(this.disabled){this.disabled=false;this.fire("enable")}},refresh:function(){this.fire("refresh")},options:function(b,a){if(typeof b=="undefined"){return this.__options}else{if(typeof b=="string"){return typeof a!=="undefined"?this.__options[b]=a:this.__options[b]}if(F.isPlainObject(b)){if(!b.identity){throw new Error("组件"+(b.component||"")+"初始化缺少identity参数，该参数用于自动日志处理，必须填写该参数！")}if(b.identity=="test"&&!window.SUPERUI_DEMO){throw new Error("组件"+(b.component||"")+"初始化identity参数非法（test只共测试demo使用，demo环境请忽略该异常）！")}b.showlogactid="40103"+b.logactid+"0";b.clicklogactid="40103"+b.logactid+"1";return this.__options=b}}},acting:function(a){var b=this;a.on("click",function(c){var d=$(c.target),f=d.attr("data-acting"),g=d.attr("data-param"),e={target:d};if(f){b.log(f,g);if(b.emit("acting-"+f,F.mix(e,k.unparam(g)))!==false){F.isFunction(b.hide)&&b.hide();return false}}});b.on("__onEmit__",function(c){if(c.event=="onshow"){b.log("show")}})},log:function(a,b){var f=this.options(),d=[n,f.identity,f.component,a].join("").replace(/-/ig,""),e=a=="show",c={logactid:e?f.showlogactid:f.clicklogactid,suicomponent:f.component};if(e){c.showType=d}else{c.clickType=d}if(b){if(F.isPlainObject(b)){c=F.mix(c,b)}else{if(typeof b=="string"){c.param=b.replace(/[^0-9a-z\u4e00-\u9fa5]/ig,"")}}}j.fire("componentLog",c)},destroy:function(){this.fire("destroy")}};return F.inherit(l,m)});F.module("superui:component/draggable",function(p,m){var k=p("superui:component"),j=p("superui:util/tool"),o=$(document),q=$(window),l=document.body,n=$(l);p("superui.css");function r(a){this.initialize(a)}r.prototype={constructor:r,initialize:function(b){var a=this,c=a.options(F.mix({component:"draggable",logactid:"2000",element:null,handle:null,cancel:null,proxy:null,autoRemoveproxy:true,autoHidden:true,containment:n,axis:0,silence:true,delay:0,distance:0,scroll:10,mask:true,cursor:"move",preventDefault:true},b));this.element=$(c.element);this.handle=c.handle&&c.handle.length?$(c.handle):this.element;this.containment=c.containment&&$(c.containment);this.cache={};if(c.mask){if(!(this.mask=$(".sui-draggable-mask")).length){this.mask=$('<div class="sui-draggable-mask sui-prevent-wheel" onselectstart="return false"></div>').css({height:n.height(),cursor:c.cursor}).hide().appendTo(this.componentWrap)}}this.bind()},bind:function(){var a=this,b=this.cache;this.handle.on("mousedown",this.__handlestart=$.proxy(this.startDrag,this));this.on("destroy",function(){if(a.__handlestart){a.handle.off("mousedown",a.__handlestart);a.__handlestart=null}});this.on("refresh",function(){a.refreshContainment();b.offsetParent=a.offsetParent.offset()})},refreshContainment:function(){var a=this.cache;if(this.containment){a.containmentLimit=F.mix({width:this.containment.outerWidth(),height:this.containment.outerHeight(),left:0,top:0,borderLeft:j.cssval(this.containment,"borderLeftWidth"),borderTop:j.cssval(this.containment,"borderTopWidth")},this.containment.offset());a.proxyWidth=this.proxy.width();a.proxyHeight=this.proxy.height()}},computingContainment:function(){var e=this.cache,b=e.spacing,a=e.containmentLimit,c=a.left,d=a.top;if(a){e.pageX=Math.min(c+a.width-e.proxyWidth,Math.max(c,e.pageX));e.pageY=Math.min(d+a.height-e.proxyHeight,Math.max(d,e.pageY))}},delay:function(e,b,c){var d=this.options(),f=this.cache,a=true;if(d.delay){if(e-this.starttime<d.delay){a=false}}if(d.distance){if(Math.sqrt(Math.abs(Math.pow(f.startX-b,2))+Math.abs(Math.pow(f.startY-c,2)))<d.distance){a=false}}return a},createProxy:function(){var a=this.options(),b=this.cache;this.proxy=a.proxy?F.isFunction(a.proxy)?$(a.proxy(this.element)):this.element.clone(false):this.element;if(this.proxy.css("position")!="absolute"){this.proxy.css(F.mix({position:"absolute"},this.element.position()))}},spacingCalculated:function(){var d=this.offsetParent,a=this.cache,e=this.proxy,b=j.cssval(e,"marginLeft"),c=j.cssval(e,"marginTop");a.spacing={offsetLeft:j.cssval(d,"borderLeftWidth"),offsetTop:j.cssval(d,"borderTopWidth"),marginX:b,marginY:c}},scroll:function(d,e){if(d.scroll){var b=q.scrollTop(),c=e.windowHeight+b-d.scroll,a=e.pageY+e.proxyHeight;if(a>c){q.scrollTop(b+a-c)}else{if(e.pageY<b+d.scroll){q.scrollTop(b-(b+d.scroll-Math.abs(e.pageY)))}}}},startDrag:function(c){var d=this.options(),e=this,a=e.cache,b=$(c.target);if(c.which==1){if(d.cancel){if(b.filter(d.cancel).length){return true}}if(!this.disabled&&!d.element.attr("CANCELDRAG")){this.cache.startX=c.pageX;this.cache.startY=c.pageY;this.cache.targetHandle=b;this.dragging=false;this.starttime=c.timeStamp;this.fire("onBeforeDrag",{event:c,pageX:c.pageX,pageY:c.pageY});if(!this.__handledrag){this.__handledrag=function(f){window.captureEvents?window.captureEvents(Event.mousemove):l.setCapture&&l.setCapture();e.drag(f)};this.__handlestop=function(f){window.releaseEvents?window.releaseEvents(Event.mousemove):l.releaseCapture&&l.releaseCapture();e.afterDrag(f)}}o.on("mousemove",this.__handledrag).on("mouseup",this.__handlestop)}}if(d.preventDefault){c.preventDefault()}},drag:function(a){var b=a.pageX,c=a.pageY,e=a.timeStamp,d=this.options(),f=this.cache,h=true;if(!this.dragging){if(h=this.delay(e,b,c)){if(d.silence){this.createProxy();if(d.proxy){this.proxy.appendTo(this.element.parent())}this.cache.offsetProxy=this.proxy.offset();this.offsetParent=this.proxy.offsetParent();this.cache.offsetParent=this.offsetParent.offset();if(d.scroll){this.cache.windowHeight=q.height();this.cache.proxyHeight=this.proxy.height()}this.spacingCalculated();this.refreshContainment()}this.mask&&this.mask.show();this.proxy.addClass("sui-draggable");this.proxyWraper=this.proxy.offsetParent().addClass("sui-draggable-wraper");if(d.proxy&&d.autoHidden){this.element.addClass("sui-draggable-proxy")}this.fire("onStartDrag",{event:a,pageX:a.pageX,pageY:a.pageY})}return this.dragging=h}var g=f.spacing;f.pageX=f.offsetProxy.left+(d.axis!=="y"?(f.offsetX=b-f.startX):f.offsetX=0);f.pageY=f.offsetProxy.top+(d.axis!=="x"?(f.offsetY=c-f.startY):f.offsetY=0);if(d.silence){this.computingContainment();this.scroll(d,f);f.left=f.pageX-f.offsetParent.left-g.marginX-g.offsetLeft;f.top=f.pageY-f.offsetParent.top-g.marginY-g.offsetTop;this.proxy.css({left:d.axis!=="y"?f.left:undefined,top:d.axis!=="x"?f.top:undefined})}this.fire("onDragging",{left:f.left,top:f.top,pageX:a.pageX,pageY:a.pageY,event:a,offsetX:f.offsetX,offsetY:f.offsetY})},afterDrag:function(c){var a=this,d=a.options(),b=a.cache;if(this.mask){this.mask.hide()}if(this.dragging){if(this.proxy){this.proxy.removeClass("sui-draggable");this.proxyWraper.removeClass("sui-draggable-wraper");if(d.proxy){if(d.autoHidden){this.element.removeClass("sui-draggable-proxy")}if(this.element.css("position")!=="absolute"){this.element.css("position","absolute")}this.element.css({left:b.left,top:b.top});if(d.autoRemoveproxy){this.proxy.remove()}}}this.dragging=false;this.fire("onAfterDrag",{left:b.left,top:b.top,pageX:c.pageX,pageY:c.pageY,event:c,offsetX:b.offsetX,offsetY:b.offsetY})}o.off("mousemove",this.__handledrag).off("mouseup",this.__handlestop)}};return F.inherit(r,k)});F.module("superui:component/scrollbar",function(l,h){var g=l("superui:component"),i=l("superui:util/tool"),j=l("superui:component/draggable");function k(a){this.initialize(a)}k.prototype={initialize:function(b){var a=this,c=a.options(F.mix({component:"scrollbar",logactid:"3000",container:null,content:null,bar:null,slider:null,y:0,speed:100,easing:"swing",hasWheel:true,hasBar:true,hasHighlight:true,offsetHeight:null,containerClassName:"sui-scrollbar-container",contentClassName:"sui-scrollbar-content",barClassName:"sui-scrollbar-bar",sliderClassName:"sui-scrollbar-slider",highlightClassName:"sui-scrollbar-highlight",existscrollbarClassName:"sui-scrollbar-existbar"},b));if(c.container){this.cache={};this.container=$(c.container).addClass(c.containerClassName);this.content=c.content?$(c.content):this.container.find("."+c.contentClassName);if(c.hasBar){this.bar=c.bar?$(c.bar):this.container.find("."+c.barClassName);if(!this.bar.length){this.bar=$('<div class="'+c.barClassName+'"><em class="'+c.sliderClassName+'"></em></div>').appendTo(this.container)}this.bar.css("height",this.container.innerHeight()-parseInt(this.bar.css("borderTopWidth"),10)-parseInt(this.bar.css("borderBottomWidth"),10));this.slider=c.slider?$(c.slider):this.container.find("."+c.sliderClassName)}this.bind();this.refreshBar(c.y,false)}},bind:function(){var a=this,b=a.cache,c,d=a.options();if(a.bar){a.bar.on("mouseenter mouseleave",function(e){if(!a.disabled){if(!b.scrolling&&d.hasHighlight){a.container[e.type=="mouseenter"?"addClass":"removeClass"](d.highlightClassName)}b.hasinbar=e.type=="mouseenter"}}).on("click",function(e){if(!a.disabled&&!$(e.target).hasClass(d.sliderClassName)){b.y=(Math.max(0,Math.min(b.containerHeight-b.sliderHeight,e.pageY-b.barOffset.top)))/b.scale;a.log("scroll");a.refreshContent(true)}})}if(a.slider){a.draggable=new j({element:a.slider,identity:d.identity,containment:a.bar,axis:"y",cursor:"pointer"});a.draggable.on("onDragging",function(e){b.y=e.top/b.scale;a.refreshContent(false);a.fire("onScrolling",b)}).on("onBeforeDrag",function(){b.scrolling=true;a.fire("onBeforeScroll",b)}).on("onAfterDrag",function(){b.scrolling=false;a.fire("onAfterScroll",b);a.log("scroll");setTimeout(function(){if(b.highlighted||!b.hasinbar){a.container.removeClass(d.highlightClassName)}},100)})}if(d.hasWheel){c=i.throttle(function(){a.log("scroll")},100);a.container.on("mousewheel",function(e){if(!a.disabled){a.scrollTo(b.y-e.deltaY*40,false);a.fire("onScrolling",b);c("scroll");return false}})}a.on("refresh",function(){a.refreshBar()});a.container.on("mouseenter",function(){a.refreshBar()})},refreshContent:function(c){var a=this,b=a.cache,d=a.options();a.refreshLocationSize();if(c!==false){a.fire("onBeforeScroll",b);if(d.hasHighlight){if(b.highlighted){a.container.addClass(d.highlightClassName)}}a.content.stop().animate({top:-b.y},{easing:d.easing,speed:d.speed,complete:function(){a.fire("onAfterScroll",b);if(b.highlighted&&d.hasHighlight){a.container.removeClass(d.highlightClassName)}},step:function(e){b.sliderY=-(e/(b.contentHeight-b.containerHeight))*(b.containerHeight-b.sliderHeight)-b.sliderBorderTop;a.slider.css("top",b.sliderY);a.fire("onScrolling",b)}})}else{this.content.css("top",-b.y);if(this.bar){this.slider.css("top",b.sliderY)}}},refreshLocationSize:function(){var a=this,b=a.cache;b.y=Math.max(0,b.y);if(Math.abs(b.y)+b.containerHeight>=b.contentHeight){b.y=Math.max(0,b.contentHeight-b.containerHeight)}if(a.bar){b.sliderY=(b.y/(b.contentHeight-b.containerHeight))*(b.containerHeight-b.sliderHeight)-b.sliderBorderTop}},refreshBar:function(d){var b=this,c=b.cache,e,a=b.options();c.y=Math.abs(d||c.y||a.y);c.contentHeight=this.content.outerHeight();c.containerHeight=this.container.outerHeight();if(a.offsetHeight){if(F.isFunction(a.offsetHeight)){if(F.isPlainObject(e=a.offsetHeight())){if(!e.containerHeight){e.containerHeight=this.container.outerHeight()}c=F.mix(c,{containerHeight:e.containerHeight||c.containerHeight,contentHeight:e.contentHeight||c.contentHeight})}}else{c.contentHeight=c.contentHeight+a.offsetHeight}}if(b.bar){b.slider.css("height",c.containerHeight/c.contentHeight*c.containerHeight);c.sliderHeight=b.slider.outerHeight();c.barOffset=b.bar.offset();c.scale=(c.containerHeight-c.sliderHeight)/(c.contentHeight-c.containerHeight);c.sliderBorderTop=parseInt(b.slider.css("border-top-width"),10);if(c.contentHeight<c.containerHeight){b.bar.hide()}else{b.bar.show()}}b.refreshContent(false)},highlight:function(c){var a=this,d=a.options(),b=a.cache;if(d.hasHighlight){(b.highlighted=!b.highlighted)?a.fire("onHighlight",b):a.fire("onCancelHighlight",b);if(c){a.container[b.highlighted?"addClass":"removeClass"](d.highlightClassName)}}},scrollTo:function(a,b){if(a!==this.cache.y){this.refreshLocationSize(this.cache.y=a);this.refreshContent(b)}},scrollOffset:function(a,b){this.scrollTo(this.cache.y+=a,b)},scrollToElement:function(b,a){if((b=$(b)).length){this.scrollTo(b.position().top,a)}},scrollTop:function(a){this.scrollTo(0,a)},scrollBottom:function(a){this.scrollTo(this.cache.contentHeight-this.cache.containerHeight,a)}};return F.inherit(k,g)});F.module("superui:component/dialog",function(l,v,q){var s=l("superui:component"),o=l("superui:util/dot"),r=l("superui:util/tool"),p=o.compile(['<div class="sui-prevent-wheel s-isindex-wrap sui-dialog {{? it.theme}}sui-dialog-{{=it.theme}}{{?}} {{?it.dialogClassName}} {{=it.dialogClassName}} {{?}}  {{? it.hasMask }} sui-dialog-hasmask {{?}} {{? it.title }} sui-dialog-hastitle {{?}}">',"{{? it.hasClose }}",'<a href="##" hidefocus class="sui-dialog-close" data-acting="close">关闭</a>',"{{?}}","{{? it.title }}",'<div class="sui-dialog-title">{{=it.title}}</div>',"{{?}}",'<div class="sui-dialog-body">{{=it.content}}</div>',"{{? it.footer }}",'<div class="sui-dialog-footer">{{=it.footer}}</div>',"{{?}}","</div>"].join("")),n=o.compile(["{{~it.buttons :value:index}}",'<a href="javascript:;" hidefocus class="sui-dialog-button sui-dialog-button',"{{? value.style }}",'{{=value.style}}"',"{{??}}","{{=value.type}}","{{?}}",'" data-acting="{{=value.type}}" >{{=value.title}}</a>',"{{~}}"].join("")),m='<div class="sui-dialog-tips sui-dialog-tipsicon{type}"><div class="sui-dialog-tipstext"><em class="sui-dialog-tipsicon"></em>{content}</div></div>',t='<div class="sui-dialog-mask s-isindex-wrap sui-prevent-wheel sui-dialog-mask-{theme}" id="sui-dialog-mask"></div>';l("dialog.css");function u(a){this.initialize(a)}u.prototype={constructor:u,initialize:function(a){this.options(F.mix({component:"dialog",logactid:"1000",title:null,content:null,buttons:null,width:300,height:0,hasMask:true,hasClose:true,autoDestroy:false,autoShow:true,position:null,theme:"",hideEffect:false},a));this.render();this.bind();if(a.autoShow!==false){this.show()}},renderButton:function(a){var b=F.isArray(a)?a:[a],a=[];F.each(b,function(e,f){if(!F.isPlainObject(e)){var c,d=null;if(typeof e=="string"){c=e}else{d=e;c=f?"取消":"确认"}a.push({type:f?"cancel":"ok",title:c,listener:d})}else{a.push(e)}});this.options("buttons",a);return n({buttons:a})},render:function(){var b=this.options(),a;this.wrap=b.componentWrap||this.componentWrap;if(b.buttons){b.footer=this.renderButton(b.buttons)}this.window=$(p(b)).appendTo(this.wrap);this.title=this.window.find(".sui-dialog-title");this.body=this.window.find(".sui-dialog-body");this.footer=this.window.find(".sui-dialog-footer");if(b.hasMask){if(!(this.mask=this.wrap.find(".sui-dialog-mask")).length){a=this.window.offsetParent();this.mask=$(r.substitute(t,{theme:b.theme||""})).appendTo(this.wrap).hide();if(!!window.ActiveXObject&&!window.XMLHttpRequest){this.mask.css({height:"100%"})}}}this.window.hide()},getPositionTop:function(){var b=$("#s_fm"),c=$(document),d=$(window),a=null;if(b.length){a=b.offset().top+b.height()+10}return function(){var e=this.window.offsetParent();if(e.find("input[name=wd]").length&&a){return a}else{var g=d.height(),f=e.outerHeight(),h=this.window.height();if(g<f){return c.scrollTop()+(g/2-h/2)}else{return f/2-h/2}}}}(),resetPosition:function(){var a=this,d=a.options(),b=0,c={width:d.width||400,height:d.height||"auto"};if(c.height!=="auto"){if(a.title){b+=a.title.height()}if(a.footer){b+=a.footer.height()}a.body.css("height",c.height-b)}if(F.isFunction(d.position)){c=F.mix(c,d.position())}else{c.left="50%";c.marginLeft=-c.width/2;c.top=d.top||a.getPositionTop()}this.window.css(c)},show:function(){if(!this.hasshow){if(this.mask){this.mask.show()}this.refresh();this.window.show();this.emit("onShow");this.hasshow=true}},hide:function(){if(this.hasshow){if(!this.options("hideEffect")){this.window.hide();if(this.mask){this.mask.hide()}}else{this.window.fadeOut(400);if(this.mask){this.mask.fadeOut(400)}}this.emit("onHide");this.hasshow=false;q.fire("dialogHide",{obj:this})}},close:function(){this.hide();this.window.remove();this.mask.remove();this.emit("onClose")},bind:function(){var b=this,a=b.options();b.on("refresh",function(){b.resetPosition()}).on("destroy",function(){b.close()});b.acting(b.window);if(a.buttons){F.each(a.buttons,function(c){if(F.isFunction(c.listener)){b.on("acting-"+c.type,c.listener)}})}}};u.alert=function(a){if(a.icons){a.type=a.icons}return new u(F.mix(a,{title:a.title,content:r.substitute(m,{content:a.content,type:a.type||"success"})+(a.subcontent||""),buttons:a.buttons,width:a.width||300}))};u.confirm=function(){};return F.inherit(u,s)});F.module("superui:component/tips",function(g,i){var h=g("superui:component"),k=g("superui:util/dot"),j=k.compile(['<div class="sui-tips s-isindex-wrap {{?it.theme}}sui-tips-{{=it.theme}}{{?}}">',"{{? it.hasArrow}}",'<div class="sui-tips-arrow"><em></em></div>',"{{?}}","{{? it.hasClose }}",'<a href="##" hidefocus class="sui-tips-close" data-acting="close">关闭</a>',"{{?}}",'<div class="sui-tips-body{{? it.icons}} sui-tips-hasicons{{?}}{{? it.hasClose }} sui-tips-hasarrow{{?}}">',"{{? it.icons}}",'<div class="sui-tips-icons sui-tips-icon{{=it.icons}}"></div>',"{{?}}","{{=it.content}}","</div>","</div>"].join(""));g("tips.css");function l(a){this.initialize(a)}l.prototype={initialize:function(b){var a=this.options(F.mix({component:"tips",logactid:"1100",componentWrap:null,target:null,content:"",width:"auto",hasArrow:true,hasClose:false,align:"left",icons:"",arrowUp:true,arrowLeft:15,autoShow:true,autoHide:true,autoDestroy:false,autoReset:true,autoRefresh:false,theme:""},b));this.render(a);this.bind();a.autoShow&&this.show()},resetPosition:function(){var C=this,A=C.options(),a=C.tips.outerHeight(),x=C.target,E={},b=C.arrow.outerHeight(),d=C.tips.offsetParent(),G=d.offset();if(A.hasArrow){var e=x.offset(),y=0,f=x.outerWidth(),w=e.top+x.height()+b+2,B=44;if(A.align=="left"||A.align=="right"){if(A.align=="left"){y=e.left;if(f<B){y-=(B-f)/2+2}}else{y=e.left+f-C.tips.outerWidth();if(f<B){y+=(B-f)/2-2}}}else{y=e.left+x.width()/2-A.arrowLeft-8}if(!A.arrowUp){w=e.top-b-a+2}E.left=y-G.left;E.top=w-G.top}else{var D=d.outerHeight(),c=$(window).height(),z=d.width();E.left=z/2-C.tips.width()/2;if(d.find("input.wd").length){E.top=245}else{if(c<D){E.top=$(document).scrollTop()+(c/2-a/2)}else{E.top=D/2-a/2}}}this.tips.css(E)},render:function(b){this.target=b.target;this.wrap=b.componentWrap||this.componentWrap;this.tips=$(j(b)).hide().appendTo(this.wrap);this.arrow=this.tips.find(".sui-tips-arrow");this.body=this.tips.find(".sui-tips-body");this.offsetparent=this.tips.offsetParent().addClass("sui-componentWrap");this.tips.css("width",b.width);if(b.arrowLeft){if(typeof b.arrowLeft=="string"){var a=this.tips.outerWidth();switch(b.arrowLeft){case"center":b.arrowLeft=a/2-7;break;case"right":b.arrowLeft=a-15-14;break;default:b.arrowLeft=15;break}}this.arrow.css("left",this.options("arrowLeft",b.arrowLeft))}if(b.arrowUp===false){this.arrow.addClass("sui-tips-arrowup")}this.emit("onRender")},bind:function(){var b=this,a=b.options();b.on("destroy",function(){b.close()}).on("refresh",function(){b.resetPosition()});b.acting(b.tips);if(a.autoHide){b.tips.on("mousedown",function(){return false});$(document).on("mousedown",function(){b.hide()})}if(a.autoRefresh){$(window).on("resize",function(){b.refresh()})}},close:function(){this.hide();this.tips.remove();this.emit("onClose")},show:function(){var b=this,a=b.options();if(!b.hasshow){b.tips.show();b.resetPosition();b.emit("onShow");b.hasshow=true}if(a.timing){setTimeout(function(){b.hide()},a.timing)}},hide:function(){var b=this,a=b.options();if(b.hasshow){b.tips.hide();b.emit("onHide");b.hasshow=false;if(a.autoDestroy){b.tips.remove()}}}};l=F.inherit(l,h);F.each("success,error,warning".split(","),function(a){l[a]=function(b){return new l(F.mix({timing:2000,hasArrow:false,icons:a,autoDestroy:true},b))}});return l});F.module("superui:component/share",function(k,n){var i=k("superui:component/tips"),l=k("superui:component"),p=k("superui:util/dot"),j=p.compile(['<div class="sui-share">',"{{~it.share :value:index}}",'<a href="###" data-acting="share" target="_blank" data-param="type={{=value.key}}" class="sui-share-icons-{{=value.key}}">{{=value.name}}</a>',"{{~}}","</div>"].join("")),m=[{key:"tsina",name:"新浪微博"},{key:"tqq",name:"腾讯微博"},{key:"qzone",name:"QQ空间"},{key:"sqq",name:"QQ好友"},{key:"tieba",name:"百度贴吧"}];k("share.css");function o(a){this.initialize(a)}o.prototype={initialize:function(b){var a=this.options(F.mix({component:"share",logactid:"1101",target:null,trigger:"click",autoHide:true,width:168,text:null,pic:null,url:null},b));this.render(a);this.bind()},render:function(a){this.tips=new i(F.mix({target:a.target,autoShow:false,arrowLeft:20,width:190,content:j({share:m})},a));this.target=a.target},bind:function(){var b=this,c,d,a=b.options();b.tips.on("onClose",function(){b.emit("onClose")}).on("onHide",function(){b.emit("onHide")}).on("onShow",function(){b.emit("onShow")});b.target.on(a.trigger,function(){b.show();d&&clearTimeout(d)});if(a.trigger=="mouseenter"){if(a.autoHide){b.target.on("mouseleave",function(){c=setTimeout(function(){b.hide()},200)});b.tips.tips.on("mouseenter mouseleave",function(e){if(e.type=="mouseenter"){clearTimeout(c)}else{d=setTimeout(function(){b.hide()},200)}})}}b.bindShare()},getShareURI:function(d){var a=this.options(),c;var b=a.url+(a.url.indexOf("?")>-1?"&":"?")+"super_frm="+a.identity+"_share_"+d.type;c=$.param({url:decodeURIComponent(b||""),to:d.type,pic:a.pic||"",title:decodeURIComponent(a.text||""),desc:decodeURIComponent(a.text||""),type:"text"});return"http://s.share.baidu.com/?"+c},bindShare:function(){var a=this,b=a.tips;b.on("acting-share",function(d){var c=d.target,e=a.getShareURI(d);c.attr("href",e);return false})},close:function(){this.tips.close();this.emit("onClose")},show:function(){if(!this.hasshow){this.tips.show();this.emit("onShow");this.hasshow=true}},hide:function(){if(this.hasshow){this.tips.hide();this.hasshow=false;this.emit("onHide")}}};return F.inherit(o,l)});F.module("superui:component/share2",function(j,f,g){var i=$("body");function h(a){var b=a||{};this.url=b.url||"";this.title=b.title||"";this.pics=b.pics||"";this.useDefaultUI=b.useDefaultUI||false;this.log=b.log}h.prototype={init:function(){this.initView();this.addEvent()},initView:function(){if(this.useDefaultUI){}},addEvent:function(){var a=this;i.off("click.share").on("click.share",'.share-wrapper .sns-item:not(".disabled")',function(){var c=$(this),l=c.attr("data-share"),d,e,b;b=a.getShareMap(l);d=b.link;e=b.backUrl;if(l=="weixin"){e=c.attr("data-url");a.createQrCode(e)}else{window.open(d)}if(a.log&&a.log.evt){a.sendLog(a.log.evt,"lotteryshare"+l,a.log,d)}})},getShareMap:function(r){var u="http://s.share.baidu.com?",e=this.url||window.location.href,c=/(&|\?)super_frm=(\w*)(&|$)/ig,v=false,s=this.title,d=this.pics;e=e.replace(c,function(){if(arguments[1]&&arguments[1]=="?"){v=true;return"?super_frm=activitygoddess_pub_ss_share_"+r+arguments[3]}return""});var q=e.indexOf("?")==-1?"?":"&",a=e+(v==false?q+"super_frm=activitygoddess_pub_ss_share_"+r:"");e=encodeURIComponent(a);s=encodeURIComponent(s);var t=d;var b=["url=",e,"&to=",r,"&title=",s,"&pic=",t];u+=b.join("");return{link:u,backUrl:a}},createQrCode:function(a){var d=$(window),e=d.height(),l=d.scrollTop(),b,c;if(!$(".s-qrcode-outer").length){i.append('<div class="s-qrcode-mask" style="position: fixed; _position: absolute; width: 100%; height: 100%; left: 0; top: 0; z-index: 999998; opacity: 0.5; filter:alpha(opacity=50); background: #000"></div>');i.append('<div class="s-qrcode-outer" style="display: none"><span class="close"></span><div id="qrcode"></div></div>')}b=$(".s-qrcode-outer");c=$(".s-qrcode-mask");b.show();c.show();if($.isIE==6||$.isIE==7){b.css({top:(e/2+l)+"px"})}if($("#qrcode").html()!=""){return}$.getScript(s_domain.staticUrl+"static/activity/js/lib/qrcode.js?v=md5",function(){new QRCode($("#qrcode")[0],a)});$(".s-qrcode-outer").on("click",".close",function(k){$(".s-qrcode-outer,.s-qrcode-mask").hide();k.stopPropagation()})},sendLog:function(c,e,b,a){var d={clickType:e,url:a};if(c){g.fire(c,$.extend(d,b))}}};return h});F.module("superui:component/notify",function(j,h,i){var f=j("superui:component");function g(a){this.initialize(a)}g.prototype={initialize:function(a){this.setttings=this.options(F.mix({component:"notify",logactid:"9000",dir:"auto",lang:"",tag:"",title:"",body:"",icon:"",delay:5000},a))},permission:function(){var a=false,c={0:"granted",1:"default",2:"denied"};if("webkitNotifications" in window){var b=window.webkitNotifications.checkPermission();a=c[b]}if("Notification" in window&&!window.webkitNotifications){a=Notification.permission}return a},show:function(){var b=this.setttings||{},c;if("webkitNotifications" in window&&window.webkitNotifications.createNotification){if(webkitNotifications.checkPermission()==0){c=this.element=window.webkitNotifications.createNotification(b.icon,b.title,b.body);c.tag=b.tag;c.show()}else{webkitNotifications.requestPermission();return}}if("Notification" in window&&!window.webkitNotifications){var a=window.Notification;if(a.permission==="default"){a.requestPermission();return}else{if(a.permission==="granted"){c=this.element=new Notification(b.title,{dir:b.dir,lang:b.lang,body:b.body,tag:b.tag,icon:b.icon})}}}c.onclick=function(){if(!!b.click){b.click()}if(this.log){this.log("click")}};c.onshow=function(){if(!!b.show){b.show()}if(this.log){this.log("show")}};c.onclose=function(){if(!!b.close){b.close()}if(this.log){this.log("close")}this.element=null};setTimeout(function(){if(c.close){c.close()}},b.delay)},close:function(){if(this.element){this.element.close()}}};g.permission=g.prototype.permission;return F.inherit(g,f)});F.module("superui:component/suggestion",function(u,s){var y=u("superui:component"),w=u("superui:util/dot"),x=u("superui:util/tool"),p=w.compile(['<div class="sui-suggestion{{? it.theme}}sui-suggestion-{{=it.theme}}{{?}}">',"<ul>","{{=it.content}}","</ul>","</div>"].join("")),A='<li class="sui-suggestion-nodata">{noRecord}</li>',o="sui-suggestion-item",t="."+o,B="sui-suggestion-hover",q="."+B,z=w.compile('<li data-index="{{=it.index}}" class="sui-suggestion-item">{{=it.content}}</li>');u("suggestion.css");var r={UP:38,DOWN:40,ESC:27,RETURN:13,BACKSPACE:8,SPACE:32};function v(a){this.initialize(a)}v.prototype={constructor:v,initialize:function(b){var a=this.options(F.mix({component:"suggestion",logactid:"1100",input:null,url:"",template:"<span>{{=it.name}}</span>--{{=it.author}}",autoFill:"name",autoEmpty:true,width:"auto",max:10,dataType:"jsonp",charset:"gbk",jsonp:"cb",delay:100,focusShow:true,ajaxoptions:null,posRefer:null,noRecord:"没有找到符合条件的结果",theme:"",result:function(e){var d=[],f;try{if(e.s){F.each(e.s,function(g){f=g.split(/\{#S\+_\}/i);if(f&&f.length==2){d.push($.parseJSON(f[1]))}})}else{F.each(e.g,function(g){if(g.type==="sug"){f=g.q.split(/\{#S\+_\}/i);if(f&&f.length===2){d.push($.parseJSON(f[1]))}}})}}catch(c){throw new Error("result结果错误，请之定义result函数或则更换接口")}return d},value:function(d,c){return d.replace(/#?\{(wd|word)\}/i,c)},highlight:function(c,d){return c.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+d.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","i"),'<span class="sui-suggestion-highlight">$1</span>')}},b));this.input=a.input;this.noRecord=x.substitute(A,a);if(this.input&&this.input.length){if(typeof a.template=="string"){this.DotCompile=w.compile(a.template)}this.render(a);this.bind(a)}},render:function(){var b=this,a=b.options();b.wrap=a.componentWrap?a.componentWrap:b.input.offsetParent().addClass("sui-componentWrap");b.list=$(p(a)).hide().appendTo(this.wrap);b.listul=b.list.find("ul");b.resetPosition()},resetPosition:function(){var c=this,e=c.wrap.offset(),b=c.options(),d=b.posRefer||c.input,f=d.offset(),a;a=(typeof b.width=="number")?b.width:c.input.outerWidth();c.list.css({left:f.left-e.left,top:f.top-e.top+c.input.outerHeight(),width:a-parseInt(c.list.css("borderLeftWidth"),10)-parseInt(c.list.css("borderRightWidth"),10)})},range:function(){var a=this.input[0],c=this.input.val();if(typeof document.selection!=="undefined"){var b=a.createTextRange(),d=document.selection.createRange();b.collapse();b.select();d.collapse(false);d.moveStart("character",c.length);d.moveEnd("character",c.length);d.select()}else{a.setSelectionRange(c.length,c.length)}},bind:function(c){var a=this,b;a.input.on("keydown",function(d){switch(d.keyCode){case r.UP:d.preventDefault();a.up();a.range();break;case r.DOWN:a.down();break;case r.RETURN:d.preventDefault();a.select();case r.ESC:a.hide();break;case r.BACKSPACE:a.cache="";default:clearTimeout(b);a.clearResult(false);b=setTimeout(function(){a.change()},c.delay);break}}).mouseenter(function(){a.resetPosition()}).focus(function(){if(a.resdata&&a.resdata.length&&a.options("focusShow")){a.show()}});a.list.on("mouseenter click",t,function(e,d){a.index=parseInt((d=$(e.target).closest(t)).attr("data-index"),10);if(e.type=="click"){a.select()}else{a.hover(d)}}).mouseleave(function(){a.hover()});$(document).mousedown(function(d){if(!$(d.target).parents(".sui-suggestion").length){a.hide()}});a.on("refresh",function(){a.resetPosition()})},hover:function(a,b){this.list.find(q).removeClass(B);if(a){a.addClass(B)}if(typeof b=="number"){this.list.find(t).eq(b).addClass(B)}},change:function(){var b=this,a=b.options(),d={},c=b.input.val();if(c&&b.cache!==c){d={url:a.url,dataType:a.dataType,scriptCharset:a.charset,success:function(e){b.result(e)}};if(a.dataType=="jsonp"){d.url=a.value(a.url,c);d.jsonp=a.jsonp}else{if(a.ajaxoptions){d=F.mix(d,a.ajaxoptions)}d.data=a.value(a.url,c)}b.cache=c;return $.ajax(d)}b.hide()},result:function(c){var a=this.options(),b=this,d=[],e=[];if((d=a.result(c)).length){d=d.slice(0,a.max);F.each(d,function(f,g){e.push(z({index:g,content:a.highlight(b.DotCompile(f),b.cache)}))})}else{e.push(b.noRecord)}b.index=-1;b.resdata=d;b.total=d.length;b.listul.html(e.join(""));b.show()},clearResult:function(a){this.resdata=[];this.index=-1;if(a!==false){this.cache=""}},getResult:function(){return this.resdata||[]},getValue:function(b){var c=this.getResult(),a=c[Math.max(0,this.index)];this.cache="";if(a){if(b!=false){this.fill(a)}return a}return null},fill:function(c){var a=this.options(),b=a.autoFill;if(b){if(typeof b=="string"){this.input.val(c[b])}else{if(typeof b=="function"){this.input.val(b(c))}}}else{if(a.autoEmpty){this.input.val("").focus()}}},up:function(){if(--this.index<0){this.index=this.total-1}this.hover(null,this.index)},down:function(){if(++this.index>=this.total){this.index=0}this.hover(null,this.index)},select:function(){var a=Math.max(0,this.index),b=this.resdata,c;if(c=b[a]){this.fill(c);this.emit("onSelect",c);this.log("select")}this.hide()},hide:function(){this.list.hide()},show:function(){this.list.show()}};return F.inherit(v,y)});F.module("superui:component/placeholder",function(n,i){var h=n("superui:component"),m=n("superui:util/dot"),k="placeholder",l=m.compile(["<div data-attr='"+k+"' ","style='position:absolute;text-indent:{{=it.indent}}px;","width:{{=it.width}}px;height:{{=it.height}}px;","line-height:{{=it.lineheight}}px;","font-size:{{=it.font}}px;","color:#666;cursor:text;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;'>","{{=it.holderText}}","</div>"].join(""));n("superui.css");function j(a){this.initialize(a)}j.prototype={initialize:function(b){var a=this;if(a.isSupportPlacerHolder()){b.target.attr("placeholder",b.holderText);return}a.options(F.mix({component:"placeholder",logactid:"4000",componentWrap:null,target:null,holderText:"",height:0,lineheight:0,font:12},b));if(isNaN(b.top)||isNaN(b.left)){throw new Error("组件"+(b.component||"")+"必须设置top，left值")}a.render();a.bind()},isSupportPlacerHolder:function(){return"placeholder" in document.createElement("input")},render:function(){var a=this,b=a.options();a.input=b.target;a.top=b.top;a.left=b.left;a.componentWrap=b.componentWrap;b.indent=parseInt(a.input.css("padding-left"),10);a.holder=$(l(b));a.componentWrap.append(a.holder);a.toPositionPlaceHolder();if(!a.input.val()){a.show()}this.emit("onRender")},bind:function(){var a=this,b=a.options();b.target.on("keydown keyup change blur focus",function(){a.updateHolderStatus()});a.holder.on("click",function(){b.target.focus()});a.on("destroy",function(){a.close()}).on("refresh",function(){a.toPositionPlaceHolder();a.updateHolderStatus()})},updateHolderStatus:function(){var a=this;if($.trim(a.input.val())){a.hide()}else{a.show()}},toPositionPlaceHolder:function(){var a=this,b=a.options();var a=this;a.holder.css({left:a.left,top:a.top})},show:function(){this.holder&&this.holder.show()},hide:function(){this.holder.hide()},close:function(){var a=this;a.holder.remove()}};return F.inherit(j,h)});